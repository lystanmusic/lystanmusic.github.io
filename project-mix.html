<!DOCTYPE html>
<html lang="cs">

<head>

  <meta charset="UTF-8">
  <title>Zadat nový mix!</title>
  <meta name="author" content="Lystan">
  <meta name="description" content="Pokud si přejete vytvořit mix pro vaše představení choregrafie či jiný kreativní projekt, využijte prosím tento formulář. Po vyplňení všech polí zjistíte reálný návrh ceny.">
  <meta name="keywords" content="Lystan, Choreo, Mix, Projekt, Cena, Formulář, Choreografie, Zadat">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#333366">
  <script>
    var isInstagram = navigator.userAgent.match(/instagram/i);
    if (isInstagram) {
      document.querySelector('html').classList.add("html-insta");
    }
  </script>

  <!-- Open Graph Tags for Social Sharing -->
  <meta property="og:title" content="Zadat nový mix!">
  <meta property="og:description" content="Pokud si přejete vytvořit mix pro vaše představení choregrafie či jiný kreativní projekt, využijte prosím tento formulář. Po vyplňení všech polí zjistíte reálný návrh ceny.">
  <meta property="og:image" content="https://lystan.com/data/lystan-afro-tech-dj-og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lystan.com/">

  <!-- Favicon and Icon Setup -->
  <link rel="icon" type="image/svg+xml" href="/data/favicon.svg">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/data/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/data/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/data/favicon-48x48.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/data/favicon-96x96.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/data/apple-touch-icon.png">
  <link rel="manifest" href="/data/site.webmanifest">

  <!-- Font Preloading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">

  <style>

/* Global */

* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html {
  color: #fff;
  font-family: "Mulish", sans-serif;
  font-size: 1vh;
  letter-spacing: 0.09em;
  scroll-behavior: smooth;
  background: rgb(51, 102, 204);
  background: linear-gradient(
    108deg,
    rgba(51, 102, 204, 1) 0%,
    rgba(51, 51, 102, 1) 100%
  );
}

body {
  overflow-y: scroll;
  overflow-x: hidden;
  display: flex;
  flex-flow: column;
  align-items: center;
  overscroll-behavior-y: contain;
  min-height: 100vh;
}

@media (max-width: 50vh) {
  html {
    font-size: 2vw;
  }
}

.html-insta {
  font-size: 7.2px;
}

@media (max-width: 360px) {
  .html-insta {
    font-size: 6.6px;
  }
}

/* Elements */

.container {
  padding: 3rem;
  width: 100%;
  max-width: 90rem;
  display: flex;
  flex-flow: column;
}

@keyframes load-header {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.footer {
  margin-top: auto;
  margin-bottom: 6rem;
  justify-content: center;
  align-items: center;
}

/* Typography */

.center {
  text-align: justify;
  text-align-last: center;
}

.justify {
  text-align: justify;
}

h1, h4 {
  font-size: 3.6rem;
  font-weight: 900;
  word-break: keep-all;
  margin: 0 1.5rem;
}

h2 {
  font-size: 2.1rem;
  font-weight: 400;
  word-break: keep-all;
  margin: 0 1.5rem;
}

p {
  font-size: 1.8rem;
  font-weight: 400;
  word-break: keep-all;
  line-height: 1.38em;
  margin: 0 1.5rem;
}

.copyright {
  font-size: 1.65rem;
  color: #cccccc;
  margin: 12rem 1.5rem 0;
}

strong {
  font-weight: 500;
  color: #66b3ff;
}

.social-links {
  flex-flow: row;
  align-items: center;
  justify-content: center;
}

.social-links > * {
  margin-right: 2.4rem;
}

.social-links > *:last-child {
  margin-right: 0;
}

.icon {
  width: 4.5rem;
  fill: #ffffff;
}

.beat-1 {
  animation: beat 12s step-end infinite;
}

.beat-2 {
  animation: beat 12s step-end 1s infinite;
}

.beat-3 {
  animation: beat 12s step-end 2s infinite;
}

.beat-4 {
  animation: beat 12s step-end 3s infinite;
}

.beat-5 {
  animation: beat 12s step-end 4s infinite;
}

.beat-6 {
  animation: beat 12s step-end 5s infinite;
}

.beat-7 {
  animation: beat 12s step-end 6s infinite;
}

@keyframes beat {
  0% {
    transform: scale(1);
  }
  97% {
    transform: scale(1.15);
  }
  98% {
    transform: scale(1);
  }
  99% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1);
  }
}

/* Links & Buttons */

a {
  color: inherit;
}

.container > a:hover {
  transform: scale(1.012);
  cursor: pointer;
}

.social-links > a:hover {
  transform: scale(1.075);
  cursor: pointer;
}

.field > * {
  margin-left: 1.5rem;
  margin-right: 1.5rem;
  margin-bottom: 1.5rem;
}

.field > *:last-child {
  margin-bottom: 0;
}

.loading-screen {
  position: fixed;
  z-index: 2;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #111111;
  animation: 1.2s load-screen;
  opacity: 0;
  pointer-events: none;
}

@keyframes load-screen {
  0% {
    opacity: 1;
  }
  67% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.loading-bar {
  background: #ffffff;
  background: linear-gradient(
    108deg,
    rgba(51, 102, 204, 1) 0%,
    rgba(51, 51, 102, 1) 100%
  );
  height: 0.75rem;
  animation: .75s loading-bar linear;
}

@keyframes loading-bar {
  0% {
    width: 0;
  }
  100% {
    width: 100vw;
  }
}

@keyframes opacity-1 {
  0% {
    opacity: 1;
  }
  34% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

@keyframes zoom-1 {
  0% {
    transform: scale(1);
  }
  34% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1.15);
  }
}

/* Form */

form {
  font-size: 2.1rem;
}

.area {
  display: flex;
  flex-flow: column;
  margin: 0 1.5rem;
  padding: 1.5rem 0 3rem;
  border-bottom: 2px solid #222222;
}

.area-last {
  border-bottom: none;
}

.area > * {
  margin: 1.5rem 0;
}

label {
  display: flex;
  flex-flow: column;
}

label .text {
  position: absolute;
  padding: 1.2rem 1.5rem 0.9rem;
  font-size: 1.8rem;
  font-weight: 600;
  color: #555555;
}

.area .box {
  display: flex;
  flex-flow: row wrap;
  width: 100%;
  gap: 3rem;
}

.area .row  {
justify-content: space-between;
align-items: baseline;
}

.remove-track {
  line-height: 3.6rem;
  font-size: 1.8rem;
  font-weight: 400;
}

.area .box > label {
  flex: 1;
}

.area .box .break {
  flex-basis: 100%;
  height: 0;
}

.area .box-2 {
  display: flex;
  flex-flow: column;
  gap: 0.75rem;
  align-self: flex-start;
}

.button {
  min-height: 9rem;
  background: #222222;
  border-radius: 1.5rem;
  box-shadow: 0 0 1.5rem 0 rgba(0, 0, 0, 0.3);
  display: flex;
  flex-flow: row;
  justify-content: center;
  align-items: center;
  font-size: 2.1rem;
  font-weight: 400;
  word-break: keep-all;
}

.button:hover {
  transform: scale(1.012);
  cursor: pointer;
}

.button-submit {
  border: 0;
  color: inherit;
  text-decoration: underline;
  margin: 0 1.5rem;
}

input {
  min-height: 8.1rem;
  sire: 1;
  background: #ffffff;
  border: none;
  border-radius: 1.5rem;
  display: flex;
  flex-flow: row;
  font-weight: 400;
  color: #222222;
  word-break: keep-all;
  padding: 3.9rem 1.5rem 1.8rem;
  font-size: 2.1rem;
}

label:hover {
  transform: scale(1.012);
}

.area-headline {
  font-size: 3rem;
}

.area-link {
  align-self: flex-start;
  text-decoration: underline;
}

.area-link:hover {
  cursor: pointer;
  transform: scale(1.012);
}

#thank-you {
  display: none;
  position: fixed;
  z-index: 3;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #111111;
  flex-flow: column;
  align-items: center;
  opacity: 1;
}

#thank-you.visible {
  display: flex;
  animation: 1.2s thank-you-screen;
}

@keyframes thank-you-screen {
  0% {
    opacity: 0;
  }
  33% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
    
  </style>

</head>

<body>

  <div class="loading-screen">
    <div class="loading-bar"></div>
  </div>

  <div class="container space">
  </div>

  <div class="container center">
    <h1>Zadat nový mix!</h1>
  </div>

  <div class="container center">
    <h2>Pokud si přejete vytvořit mix pro vaše představení choregrafie či jiný kreativní projekt, využijte prosím tento formulář. Po vyplňení všech polí zjistíte reálný návrh ceny.</h2>
  </div>

  <form class="container" action="https://formspree.io/f/manroydy" method="POST">

    <div class="area">
      <label>
        <div class="text">Název projektu:</div>
        <input type="text" name="project-name">
      </label>
    </div>

    <template id="track-template">
      <div class="area" data-track="X">
        <div class="box row">
          <div class="area-headline">Skladba X</div>
          <div class="area-link remove-track">odebrat</div>
        </div>

        <label>
          <div class="text">Název nahrávky:</div>
          <input type="text" name="trackX">
        </label>

        <!-- First time segment -->
        <div class="box time-box">
          <label>
            <div class="text">Čas od:</div><input type="text" name="trackX-time1-from" size="1">
          </label>
          <label>
            <div class="text"> do:</div><input type="text" name="trackX-time1-to" size="1">
          </label>
        </div>

        <div class="area-link add-time">+ přidat stopáž</div>
      </div>
    </template>

    <div class="area" data-track="1">
      <div class="box row">
        <div class="area-headline">Skladba 1</div>
        <div class="area-link remove-track">odebrat</div>
      </div>

      <label>
        <div class="text">Název nahrávky:</div>
        <input type="text" name="track1">
      </label>

      <div class="box time-box">
        <label>
          <div class="text">Čas od:</div><input type="text" name="track1-time1-from" size="1">
        </label>
        <label>
          <div class="text"> do:</div><input type="text" name="track1-time1-to" size="1">
        </label>
      </div>
      <div class="area-link add-time">+ přidat stopáž</div>
    </div>

    <div class="area">
      <div class="area-headline area-link add-track">+ Přidat skladbu</div>
    </div>

    <div class="area">
      <div class="area-headline">Doplňující info</div>
      <label>
        <div class="text">Datum odevzdání:</div>
        <input type="text" name="deadline">
      </label>
      <label>
        <div class="text">Váš email:</div>
        <input type="email" name="email">
      </label>
      <label>
        <div class="text">Cokoliv navíc:</div>
        <input name="message"></input>
      </label>
    </div>

    <div class="area area-last" id="price-section">
      <div class="area-headline">Cenová kalkulace</div>

      <div id="price-breakdown">
        <div>Skladby (<span id="track-count">1</span>× <span data-price="track">150 Kč</span>)
          <span class="total-line">: <span id="tracks-total">150 Kč</span></span>
        </div>
        <div>Přechody (<span id="transition-count">0</span>× <span data-price="transition">150 Kč</span>)
          <span class="total-line">: <span id="transitions-total">0 Kč</span></span>
        </div>
        <div>Prostřihy (<span id="cut-count">0</span>× <span data-price="cut">50 Kč</span>)
          <span class="total-line">: <span id="cuts-total">0 Kč</span></span>
        </div>
        <div>Zhotovit mix: <span class="price-value" data-price="base">450 Kč</span></div>
      </div>

      <div class="area-headline" style="font-weight: bold;">
        Celkem: <span id="total-price">0 Kč</span>
      </div>

      <input type="hidden" name="calculated-price" value="">
    </div>

    <!-- Hidden field for Formspree -->
    <input style="display: none" type="text" name="calculated-price" value="">
    </div>

    <button class="button button-submit link" type="submit">Odeslat →</button>
  </form>

  <div class="container center">
    <h2>Po úspěšném vyplnění a zaslání se vám ozvu do 48 hodin, a potvrdím jestli začínám a stíhám.</h2>
  </div>

  <div class="container center">
    <h2>* Název nahrávky = Oficiální název nahrávky / skladby / písně, ze které lze odvodit přesný čas / stopáž. Popřípadě odkaz na iTunes, Spotify. V nejhorším případě YouTube nebo SoundCloud.</h2>
  </div>

  <div class="container space"></div>

  <div class="container center">
    <a href="https://lystan.com">
      <h2>← Jít zpět na Lystan.com</h2>
    </a>
  </div>

  <div class="container social-links">
    <!-- <a target="_blank" rel="noopener" title="Instagram" href="https://instagram.com/lystan.music" aria-label="Instagram">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon icon-instagram beat-1">
        <path d="M21.938,7.71a7.329,7.329,0,0,0-.456-2.394,4.615,4.615,0,0,0-1.1-1.694,4.61,4.61,0,0,0-1.7-1.1,7.318,7.318,0,0,0-2.393-.456C15.185,2.012,14.817,2,12,2s-3.185.012-4.29.062a7.329,7.329,0,0,0-2.394.456,4.615,4.615,0,0,0-1.694,1.1,4.61,4.61,0,0,0-1.1,1.7A7.318,7.318,0,0,0,2.062,7.71C2.012,8.814,2,9.182,2,12s.012,3.186.062,4.29a7.329,7.329,0,0,0,.456,2.394,4.615,4.615,0,0,0,1.1,1.694,4.61,4.61,0,0,0,1.7,1.1,7.318,7.318,0,0,0,2.393.456c1.1.05,1.472.062,4.29.062s3.186-.012,4.29-.062a7.329,7.329,0,0,0,2.394-.456,4.9,4.9,0,0,0,2.8-2.8,7.318,7.318,0,0,0,.456-2.393c.05-1.1.062-1.472.062-4.29S21.988,8.814,21.938,7.71Zm-1,8.534a6.351,6.351,0,0,1-.388,2.077,3.9,3.9,0,0,1-2.228,2.229,6.363,6.363,0,0,1-2.078.388C15.159,20.988,14.8,21,12,21s-3.159-.012-4.244-.062a6.351,6.351,0,0,1-2.077-.388,3.627,3.627,0,0,1-1.35-.879,3.631,3.631,0,0,1-.879-1.349,6.363,6.363,0,0,1-.388-2.078C3.012,15.159,3,14.8,3,12s.012-3.159.062-4.244A6.351,6.351,0,0,1,3.45,5.679a3.627,3.627,0,0,1,.879-1.35A3.631,3.631,0,0,1,5.678,3.45a6.363,6.363,0,0,1,2.078-.388C8.842,3.012,9.205,3,12,3s3.158.012,4.244.062a6.351,6.351,0,0,1,2.077.388,3.627,3.627,0,0,1,1.35.879,3.631,3.631,0,0,1,.879,1.349,6.363,6.363,0,0,1,.388,2.078C20.988,8.841,21,9.2,21,12S20.988,15.159,20.938,16.244Z"></path>
        <path d="M17.581,5.467a.953.953,0,1,0,.952.952A.954.954,0,0,0,17.581,5.467Z"></path>
        <path d="M12,7.073A4.927,4.927,0,1,0,16.927,12,4.932,4.932,0,0,0,12,7.073Zm0,8.854A3.927,3.927,0,1,1,15.927,12,3.932,3.932,0,0,1,12,15.927Z"></path>
      </svg>
    </a> -->
    <a target="_blank" title="TikTok" href="https://tiktok.com/@lystanmusic" aria-label="TikTok">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon icon-tiktok beat-2">
        <path d="M9.37,23.5a7.468,7.468,0,0,1,0-14.936.537.537,0,0,1,.538.5v3.8a.542.542,0,0,1-.5.5,2.671,2.671,0,1,0,2.645,2.669.432.432,0,0,1,0-.05V1a.5.5,0,0,1,.5-.5h3.787a.5.5,0,0,1,.5.5A4.759,4.759,0,0,0,21.59,5.76a.5.5,0,0,1,.5.5L22.1,10a.533.533,0,0,1-.519.515,9.427,9.427,0,0,1-4.741-1.268v6.789A7.476,7.476,0,0,1,9.37,23.5ZM8.908,9.585a6.466,6.466,0,1,0,6.93,6.447V8.326a.5.5,0,0,1,.791-.407A8.441,8.441,0,0,0,21.1,9.5l-.006-2.76A5.761,5.761,0,0,1,15.859,1.5H13.051V16.032a.458.458,0,0,1,0,.053,3.672,3.672,0,1,1-4.14-3.695Z"></path>
      </svg>
    </a>
    <a target="_blank" rel="noopener" title="YouTube" href="https://www.youtube.com/@lystanmusic" aria-label="YouTube">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon icon-youtube beat-3">
        <path d="M12,20.55c-.3,0-7.279-.006-9.115-.5A3.375,3.375,0,0,1,.5,17.665,29.809,29.809,0,0,1,0,12,29.824,29.824,0,0,1,.5,6.334,3.375,3.375,0,0,1,2.885,3.948c1.836-.492,8.819-.5,9.115-.5s7.279.006,9.115.5A3.384,3.384,0,0,1,23.5,6.334,29.97,29.97,0,0,1,24,12a29.97,29.97,0,0,1-.5,5.666,3.384,3.384,0,0,1-2.388,2.386C19.279,20.544,12.3,20.55,12,20.55Zm0-16.1c-.072,0-7.146.006-8.857.464A2.377,2.377,0,0,0,1.464,6.593,29.566,29.566,0,0,0,1,12a29.566,29.566,0,0,0,.464,5.407,2.377,2.377,0,0,0,1.679,1.679c1.711.458,8.785.464,8.857.464s7.146-.006,8.857-.464a2.377,2.377,0,0,0,1.679-1.679A29.66,29.66,0,0,0,23,12a29.66,29.66,0,0,0-.464-5.407h0a2.377,2.377,0,0,0-1.679-1.679C19.146,4.456,12.071,4.45,12,4.45ZM9.7,15.95a.5.5,0,0,1-.5-.5V8.55a.5.5,0,0,1,.75-.433l5.975,3.45a.5.5,0,0,1,0,.866L9.95,15.883A.5.5,0,0,1,9.7,15.95Zm.5-6.534v5.168L14.675,12Z"></path>
      </svg>
    </a>
    <a target="_blank" rel="noopener" title="Spotify" href="https://open.spotify.com/user/5jx5wvxqljszs0xk68ucsr56d?si=4256adc0520d46a9" aria-label="Spotify">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon beat-4">
        <path d="M18,10.561a.494.494,0,0,1-.245-.065,15.2,15.2,0,0,0-10.95-1.55.5.5,0,0,1-.232-.973A16.2,16.2,0,0,1,18.25,9.626a.5.5,0,0,1-.247.935Z"></path>
        <path d="M16.646,13.632a.5.5,0,0,1-.249-.066,12.459,12.459,0,0,0-9.121-1.292.5.5,0,1,1-.237-.971A13.458,13.458,0,0,1,16.9,12.7a.5.5,0,0,1-.25.933Z"></path>
        <path d="M15.312,16.583a.5.5,0,0,1-.251-.068,9.777,9.777,0,0,0-7.295-1.033.5.5,0,0,1-.245-.97,10.768,10.768,0,0,1,8.043,1.139.5.5,0,0,1-.252.932Z"></path>
        <path d="M12,23A11,11,0,1,1,23,12,11.013,11.013,0,0,1,12,23ZM12,2A10,10,0,1,0,22,12,10.011,10.011,0,0,0,12,2Z"></path>
      </svg>
    </a>
    <a target="_blank" rel="noopener" title="SoundCloud" href="https://soundcloud.com/lystan" aria-label="SoundCloud">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon beat-5">
        <path d="M19.119,19.071H9.262a.5.5,0,0,1,0-1h9.857a3.881,3.881,0,1,0,0-7.761,1.084,1.084,0,0,0-.161.016l-.165.019a.482.482,0,0,1-.515-.334A6.055,6.055,0,0,0,9.513,6.748a.5.5,0,0,1-.5-.866A7.056,7.056,0,0,1,19.082,9.31h.037a4.881,4.881,0,1,1,0,9.761Z"></path>
        <path d="M.5,17.429a.5.5,0,0,1-.5-.5V10.357a.5.5,0,0,1,1,0v6.572A.5.5,0,0,1,.5,17.429Z"></path>
        <path d="M3.238,19.071a.5.5,0,0,1-.5-.5V7.619a.5.5,0,0,1,1,0V18.571A.5.5,0,0,1,3.238,19.071Z"></path>
        <path d="M5.977,19.071a.5.5,0,0,1-.5-.5V8.714a.5.5,0,0,1,1,0v9.857A.5.5,0,0,1,5.977,19.071Z"></path>
      </svg>
    </a>
    <a target="_blank" rel="noopener" title="Email" href="mailto:bookings@lystan.com" aria-label="Email">
      <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" class="icon icon-email beat-6">
        <path d="M18.821,20.5H5.179A3.683,3.683,0,0,1,1.5,16.821V7.179A3.683,3.683,0,0,1,5.179,3.5H18.821A3.683,3.683,0,0,1,22.5,7.179v9.642A3.683,3.683,0,0,1,18.821,20.5ZM5.179,4.5A2.682,2.682,0,0,0,2.5,7.179v9.642A2.682,2.682,0,0,0,5.179,19.5H18.821A2.682,2.682,0,0,0,21.5,16.821V7.179A2.682,2.682,0,0,0,18.821,4.5Z"></path>
        <path d="M12,14.209a.5.5,0,0,1-.346-.138L4.286,7.028a.5.5,0,0,1,.691-.723L12,13.018l7.023-6.713a.5.5,0,1,1,.691.723l-7.368,7.043A.5.5,0,0,1,12,14.209Z"></path>
        <path d="M4.7,17.833a.5.5,0,0,1-.347-.86l5.54-5.31a.5.5,0,0,1,.692.722L5.048,17.694A.5.5,0,0,1,4.7,17.833Z"></path>
        <path d="M19.3,17.832a.5.5,0,0,1-.346-.139l-5.538-5.308a.5.5,0,0,1,.692-.722l5.538,5.308a.5.5,0,0,1-.346.861Z"></path>
      </svg>
    </a>
  </div>

  <div id="thank-you" class="hidden">
    <div class="container space"></div>
    <div class="container space"></div>
    <div class="container space"></div>
    <div class="container center">
      <h4>Díky. Brzy se vám ozvu!</h4>
    </div>
    <div class="container center field">
      <a href="https://lystan.com/project-mix">
      <h2>Zadat další</h2>
    </a>
      <a href="https://lystan.com">
      <h2>← Jít zpět na www.lystan.com</h2>
    </a>
    </div>
    <div class="container space"></div>
    <div class="container space"></div>
    <div class="container space"></div>
  </div>

  <div class="container" style="display: none;">
    <h2 onclick="document.getElementById('thank-you').classList.add('visible')">Test</h2>
  </div>

  <div class="container footer center">
    <div class="copyright">© <span id="year">2024</span> Lystan Music - All rights reserved</div>
  </div>

  <script>

/* Add or Remove Fields */

document.addEventListener("DOMContentLoaded", function () {
  // ADD TIME SEGMENT (always inserts just above the + button)
  function addTime() {
    const area = this.closest(".area");
    const track = area.dataset.track;
    const count = area.querySelectorAll(".time-box").length + 1;

    const newBox = document.createElement("div");
    newBox.className = "box time-box";
    newBox.innerHTML = `
      <label><div class="text">Čas od:</div><input type="text" name="track${track}-time${count}-from" size="1"></label>
      <label><div class="text"> do:</div><input type="text" name="track${track}-time${count}-to" size="1"></label>
    `;

    // Insert right before the + button
    const addBtn = area.querySelector(".add-time");
    area.insertBefore(newBox, addBtn);
  }

  // ADD NEW TRACK
  document.querySelector(".add-track").addEventListener("click", function () {
    let nextNum = 1;
    document.querySelectorAll(".area[data-track]").forEach((a) => {
      const n = parseInt(a.dataset.track) || 0;
      if (n >= nextNum) nextNum = n + 1;
    });

    const clone = document
      .getElementById("track-template")
      .content.cloneNode(true);
    const area = clone.querySelector(".area");

    area.dataset.track = nextNum;
    area.querySelector(".area-headline").textContent = `Skladba ${nextNum}`;
    area.querySelectorAll('[name*="trackX"]').forEach((el) => {
      el.name = el.name.replace("trackX", `track${nextNum}`);
    });

    this.closest(".area").before(clone);

    // Attach events
    area.querySelector(".add-time").onclick = addTime;
    area.querySelector(".remove-track").onclick = () => {
      area.remove();
      renumberTracks();
    }
  });

  // INITIALIZE TRACK 1 + any others you might have
  document.querySelectorAll(".area[data-track]").forEach((area) => {
    area.querySelector(".add-time").onclick = addTime;
    area.querySelector(".remove-track").onclick = () => {
      area.remove();
      renumberTracks();
    }
  });
});

/* Pricing */

// ———————————————————————————
// EDIT ONLY THESE PRICES EVER!
// ———————————————————————————
const PRICES = {
  base: 450,
  track: 150,
  transition: 150,
  cut: 50
};
// ———————————————————————————

function updatePrice() {
  const tracks = document.querySelectorAll(".area[data-track]");
  const trackCount = tracks.length;

  let extraCuts = 0;
  tracks.forEach((t) => {
    const boxes = t.querySelectorAll(".time-box").length;
    if (boxes > 1) extraCuts += boxes - 1;
  });

  const transitions = Math.max(0, trackCount - 1);
  const total =
    PRICES.base +
    trackCount * PRICES.track +
    transitions * PRICES.transition +
    extraCuts * PRICES.cut;

  // Update counts
  document.getElementById("track-count").textContent = trackCount;
  document.getElementById("transition-count").textContent = transitions;
  document.getElementById("cut-count").textContent = extraCuts;

  // Update totals
  document.getElementById("tracks-total").textContent =
    trackCount * PRICES.track + " Kč";
  document.getElementById("transitions-total").textContent =
    transitions * PRICES.transition + " Kč";
  document.getElementById("cuts-total").textContent =
    extraCuts * PRICES.cut + " Kč";
  document.getElementById("total-price").textContent = total + " Kč";

  // Update all visible single prices from the master object
  document.querySelectorAll("[data-price]").forEach((el) => {
    const key = el.dataset.price;
    el.textContent = PRICES[key] + " Kč";
  });

  // Hidden field — perfect Czech text
  const trackWord =
    trackCount === 1 ? "skladba" : trackCount < 5 ? "skladby" : "skladeb";
  const transWord =
    transitions === 1 ? "přechod" : transitions < 5 ? "přechody" : "přechodů";
  const cutWord =
    extraCuts === 1 ? "prostřih" : extraCuts < 5 ? "prostřihy" : "prostřihů";

  const text = `${total} Kč = ${trackCount} ${trackWord} +${
    trackCount * PRICES.track
  }, ${transitions} ${transWord} +${
    transitions * PRICES.transition
  }, ${extraCuts} ${cutWord} +${extraCuts * PRICES.cut}, Mix +${PRICES.base}`;
  document.querySelector('input[name="calculated-price"]').value = text;
}

// Run after any change
function refresh() {
  setTimeout(updatePrice, 50);
}

// First run
updatePrice();

// Your buttons trigger refresh
document.querySelector("form").addEventListener("click", function (e) {
  if (e.target.closest(".add-time, .remove-track, .add-track")) {
    refresh();
  }
});

/* Renumber */

function renumberTracks() {
  const tracks = document.querySelectorAll('.area[data-track]');
  tracks.forEach((area, index) => {
    const newNumber = index + 1;

    // Update data-track
    area.dataset.track = newNumber;

    // Update headline
    area.querySelector('.area-headline').textContent = `Skladba ${newNumber}`;

    // Update ALL input names inside this track
    area.querySelectorAll('input[name*="track"]').forEach(input => {
      // Example: track2-time3-from → track1-time3-from
      const oldName = input.name;
      const newName = oldName.replace(/track\d+/g, `track${newNumber}`);
      input.name = newName;
    });
  });

  // Refresh price after renumbering
  updatePrice();
}

/* Submit / Redirect */

document.querySelector("form").addEventListener("submit", function (e) {
  e.preventDefault(); // stop the redirect

  // SEND THE FORM TO FORMSPREE
  fetch(this.action, {
    method: "POST",
    body: new FormData(this),
    headers: { Accept: "application/json" }
  })
    .then((response) => {
      if (response.ok) {
        // SUCCESS → show thank you
        document.getElementById("thank-you").classList.add("visible");
        this.reset(); // optional: clear the form
        updatePrice(); // optional: reset price to 600 Kč
      } else {
        alert("Něco se pokazilo – zkus to znovu.");
      }
    })
    .catch(() => {
      alert("Problém s připojením – zkus to prosím znovu.");
    });
});

/* Copyright Date */

const y = new Date();
let year = y.getFullYear();
document.getElementById("year").innerHTML = year;
    
  </script>

</body>
  
</html>
